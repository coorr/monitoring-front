{"version":3,"file":"static/chunks/pages/index-4761c83fd3750215.js","mappings":"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","sources":["webpack://_N_E/","webpack://_N_E/./src/components/header.js","webpack://_N_E/./src/components/ItemPost.js","webpack://_N_E/./src/pages/index.js","webpack://_N_E/./src/components/css/Header.module.css","webpack://_N_E/./src/components/css/Product.module.scss"],"sourcesContent":["\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.js\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/\"])\n      });\n    }\n  ","import React, { useState,useCallback,useEffect } from 'react'\r\nimport { Container,Navbar,Nav,NavDropdown } from \"react-bootstrap\";\r\nimport styles from './css/Header.module.css'\r\nimport AuthService from '../../service/user/Auth.service';\r\nimport Router from 'next/router'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LOG_OUT_REQUEST } from '../reducers/user';\r\n\r\n\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const [show, setShow] = useState(false);\r\n  const [admin, setAdmin ]  = useState(false);\r\n  const [currentUser, setCurrentUser ]  = useState(false);\r\n\r\n  useEffect(() => {\r\n    const admin = AuthService.getCurrentUser();\r\n    \r\n    if(admin) {\r\n      setCurrentUser(true)\r\n      if(admin.roles[0] === 'ROLE_ADMIN') {\r\n        setAdmin(true)\r\n      }\r\n    }\r\n  })\r\n\r\n  const showDropdown = useCallback(() => {\r\n    setShow(true)\r\n  },[show]);\r\n  const hideDropdown = useCallback(() => {\r\n    setShow(false)\r\n  },[show]);\r\n  \r\n\r\n  const logOut = useCallback(() => {\r\n    AuthService.logout();\r\n    dispatch({\r\n      type: LOG_OUT_REQUEST\r\n    })\r\n    setCurrentUser(false)\r\n    Router.push(\"/\")\r\n  }, []);\r\n\r\n  const login = useCallback(() => {\r\n    Router.push(\"login\")\r\n  },[]);\r\n\r\n  return (\r\n     <Navbar  expand=\"lg\"  >\r\n        <Container className={styles.headerLayout}>\r\n          <Navbar.Brand href=\"/\" className={styles.headerColor}>COOR</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\" >\r\n            <Nav className=\"ms-auto\" >\r\n              {\r\n                admin && (\r\n                  <Nav.Link href=\"addItem\" id={styles.navLink}>등록하기</Nav.Link>\r\n                )\r\n              }\r\n              <NavDropdown \r\n                title=\"Store\" \r\n                id={styles.dropdownMenu}\r\n                show={show}\r\n                onMouseEnter={showDropdown} \r\n                onMouseLeave={hideDropdown}\r\n              >\r\n                <NavDropdown.Item href=\"addItem\" id={styles.dropdownMenuItem}>New arrivals</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.2\" id={styles.dropdownMenuItem}>Outwear</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.3\"id={styles.dropdownMenuItem}>Knitwear</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Sweatshirt</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Shirt</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>T-shirt</NavDropdown.Item>\r\n              </NavDropdown>\r\n              <Nav.Link href=\"help\" id={styles.navLink}>help</Nav.Link>\r\n              <Nav.Link href=\"register\" id={styles.navLink}>cart</Nav.Link>\r\n              {\r\n                currentUser ? (\r\n                  <Nav.Link id={styles.navLink} onClick={logOut}>LogOut</Nav.Link>\r\n                ) : (\r\n                  <Nav.Link id={styles.navLink} onClick={login}>login</Nav.Link>\r\n                )\r\n              }\r\n              \r\n            </Nav>\r\n          </Navbar.Collapse>\r\n          </Container>\r\n      </Navbar>\r\n  )\r\n}\r\n\r\nexport default Header\r\n\r\n// export default class Header extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       show: false,\r\n//       currentUser: '',\r\n//       showAdminBoard: false,\r\n//     }\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     const user = AuthService.getCurrentUser();\r\n//     if(user) {\r\n//       this.setState({ \r\n//         currentUser: user,\r\n//         showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\r\n//        })\r\n//     }\r\n//   }\r\n\r\n//   showDropdown = () => {\r\n//     this.setState({ show: true})\r\n//   }\r\n//   hideDropdown = () => {\r\n//     this.setState({ show: false})\r\n//   }\r\n//   logOut = () => {\r\n//     AuthService.logout();\r\n//     this.setState({\r\n//       showAdminBoard: false,\r\n//       currentUser: undefined,\r\n//     });\r\n//     Router.push(\"/\")\r\n//   }\r\n\r\n//   login = () => {\r\n//     Router.push(\"login\")\r\n//   }\r\n\r\n//   render() {\r\n//     const { show,currentUser, showAdminBoard } = this.state;\r\n//     return (\r\n//      <Navbar  expand=\"lg\"  >\r\n//         <Container className={styles.headerLayout}>\r\n//           <Navbar.Brand href=\"/\" className={styles.headerColor}>COOR</Navbar.Brand>\r\n//           <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n//           <Navbar.Collapse id=\"basic-navbar-nav\" >\r\n//             <Nav className=\"ms-auto\" >\r\n//               {\r\n//                 showAdminBoard && (\r\n//                   <Nav.Link href=\"addCloth\" id={styles.navLink}>등록하기</Nav.Link>\r\n//                 )\r\n//               }\r\n//               <NavDropdown \r\n//                 title=\"Store\" \r\n//                 id={styles.dropdownMenu}\r\n//                 show={show}\r\n//                 onMouseEnter={this.showDropdown} \r\n//                 onMouseLeave={this.hideDropdown}\r\n//               >\r\n//                 <NavDropdown.Item href=\"allCloth\" id={styles.dropdownMenuItem}>New arrivals</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.2\" id={styles.dropdownMenuItem}>Outwear</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.3\"id={styles.dropdownMenuItem}>Knitwear</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Sweatshirt</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Shirt</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>T-shirt</NavDropdown.Item>\r\n//               </NavDropdown>\r\n//               <Nav.Link href=\"help\" id={styles.navLink}>help</Nav.Link>\r\n//               <Nav.Link href=\"register\" id={styles.navLink}>cart</Nav.Link>\r\n//               {\r\n//                 currentUser ? (\r\n//                   <Nav.Link id={styles.navLink} onClick={this.logOut}>LogOut</Nav.Link>\r\n//                 ) : (\r\n//                   <Nav.Link id={styles.navLink} onClick={this.login}>login</Nav.Link>\r\n//                 )\r\n//               }\r\n              \r\n//             </Nav>\r\n//           </Navbar.Collapse>\r\n//           </Container>\r\n//       </Navbar>\r\n//     )\r\n//   }\r\n// }\r\n","import React, {useState} from 'react'\r\nimport Image from 'next/image'\r\nimport ss from '../images/ee.png'\r\nimport { Card, Button } from \"react-bootstrap\";\r\n\r\nconst ItemPost = ({item}) => {\r\n  const [over, setOver] = useState(false);\r\n  \r\n  return (\r\n    <div>\r\n        <Card >\r\n        {/* `http://localhost:8080/static/${this.props.dbImage}` */}\r\n          <Card.Img \r\n          variant=\"top\" \r\n          // src={over &&item.Image[1] !== undefined ? item.Image[1].src : item.Image[0].src}\r\n          src={item.images.length > 0 && `http://localhost:8080/static/${item.images[0].src}`}\r\n          onMouseOver={e => setOver(true)}\r\n          onMouseOut={e => setOver(false)}\r\n          height={430}\r\n          />\r\n          \r\n          <Card.Body>\r\n            <Card.Title style={{ fontSize: '10px' }}>{item.title}</Card.Title>\r\n              <Card.Title style={{ fontSize: '10px', textDecoration : 'line-through' }}>\r\n                {item.price}원<br />\r\n              </Card.Title>\r\n              <Card.Text style={{ fontSize: '10px' }}>\r\n                {item.discountPrice}원\r\n              </Card.Text>\r\n              <br />\r\n          </Card.Body>\r\n        </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ItemPost","import React, { Component, useEffect } from \"react\";\r\nimport Link from 'next/link'\r\nimport Header from \"../components/header\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport ItemPost from \"../components/ItemPost\";\r\nimport styles from '../components/css/Product.module.scss'\r\nimport { GET_ITEM_REQUEST } from \"../reducers/item\";\r\nimport wrapper from \"../store/configureStore\";\r\nimport { END } from \"redux-saga\";\r\n\r\n\r\nconst index = () => {\r\n  const dispatch = useDispatch();\r\n  const { item, hasMoreItem, getItemLoading } = useSelector((state) => state.item)\r\n\r\n  useEffect(() => {\r\n    dispatch({\r\n      type: GET_ITEM_REQUEST,\r\n    })\r\n  },[]);\r\n\r\n  useEffect(() => {\r\n    function onScroll() {\r\n      if(window.scrollY + document.documentElement.clientHeight > document.documentElement.scrollHeight - 300) {\r\n        if(hasMoreItem && !getItemLoading) {\r\n          const lastId = item[item.length - 1]?.itemId;\r\n          const size = 10;\r\n          dispatch({\r\n            type: GET_ITEM_REQUEST,\r\n            data: { lastId, size}\r\n          })\r\n        }\r\n      }\r\n    }\r\n    window.addEventListener('scroll', onScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', onScroll);\r\n    }\r\n  }, [hasMoreItem, getItemLoading, item]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className={styles.p__grid}>\r\n         {item.map((item,i) => <ItemPost key={i} item={item} />)}  \r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n// export const getServerSideProps = wrapper.getServerSideProps(async(context) => {\r\n//   context.store.dispatch({\r\n//     type: GET_ITEM_REQUEST,\r\n//   })\r\n\r\n//   context.store.dispatch(END);\r\n//   await context.store.sagaTask.toPromise();\r\n// })\r\n\r\nexport default index","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerColor\":\"Header_headerColor__mXmDj\",\"headerLayout\":\"Header_headerLayout__Pt4Gx\",\"navLink\":\"Header_navLink__Uof5x\",\"dropdownMenu\":\"Header_dropdownMenu__DtDIk\",\"dropdownMenuItem\":\"Header_dropdownMenuItem__0sT0o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"p__grid\":\"Product_p__grid__KFKWV\"};"],"names":["window","__NEXT_P","push","dispatch","useDispatch","useState","useEffect","admin","AuthService","setCurrentUser","roles","setAdmin","showDropdown","useCallback","setShow","show","hideDropdown","logOut","type","LOG_OUT_REQUEST","Router","login","Navbar","expand","Container","className","styles","href","aria-controls","id","Nav","NavDropdown","title","onMouseEnter","onMouseLeave","currentUser","onClick","item","div","Card","variant","src","images","length","onMouseOver","e","setOver","onMouseOut","height","style","fontSize","textDecoration","price","br","discountPrice","useSelector","state","hasMoreItem","getItemLoading","GET_ITEM_REQUEST","onScroll","scrollY","document","documentElement","clientHeight","scrollHeight","lastId","itemId","data","size","addEventListener","removeEventListener","Header","map","i","ItemPost","module","exports"],"sourceRoot":""}