{"version":3,"file":"17.js","mappings":"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","sources":["webpack://aws-next-front/./src/components/css/Header.module.css","webpack://aws-next-front/./src/components/header.js"],"sourcesContent":["// Exports\nmodule.exports = {\n\t\"headerColor\": \"Header_headerColor__mXmDj\",\n\t\"headerLayout\": \"Header_headerLayout__Pt4Gx\",\n\t\"navLink\": \"Header_navLink__Uof5x\",\n\t\"dropdownMenu\": \"Header_dropdownMenu__DtDIk\",\n\t\"dropdownMenuItem\": \"Header_dropdownMenuItem__0sT0o\"\n};\n","import React, { useState,useCallback,useEffect } from 'react'\r\nimport { Container,Navbar,Nav,NavDropdown } from \"react-bootstrap\";\r\nimport styles from './css/Header.module.css'\r\nimport AuthService from '../../service/user/Auth.service';\r\nimport Router from 'next/router'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { LOG_OUT_REQUEST } from '../reducers/user';\r\n\r\n\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const [show, setShow] = useState(false);\r\n  const [admin, setAdmin ]  = useState(false);\r\n  const [currentUser, setCurrentUser ]  = useState(false);\r\n\r\n  useEffect(() => {\r\n    const admin = AuthService.getCurrentUser();\r\n    \r\n    if(admin) {\r\n      setCurrentUser(true)\r\n      if(admin.roles[0] === 'ROLE_ADMIN') {\r\n        setAdmin(true)\r\n      }\r\n    }\r\n  })\r\n\r\n  const showDropdown = useCallback(() => {\r\n    setShow(true)\r\n  },[show]);\r\n  const hideDropdown = useCallback(() => {\r\n    setShow(false)\r\n  },[show]);\r\n  \r\n\r\n  const logOut = useCallback(() => {\r\n    AuthService.logout();\r\n    dispatch({\r\n      type: LOG_OUT_REQUEST\r\n    })\r\n    setCurrentUser(false)\r\n    Router.push(\"/\")\r\n  }, []);\r\n\r\n  const login = useCallback(() => {\r\n    Router.push(\"login\")\r\n  },[]);\r\n\r\n  return (\r\n     <Navbar  expand=\"lg\"  >\r\n        <Container className={styles.headerLayout}>\r\n          <Navbar.Brand href=\"/\" className={styles.headerColor}>COOR</Navbar.Brand>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\" >\r\n            <Nav className=\"ms-auto\" >\r\n              {\r\n                admin && (\r\n                  <Nav.Link href=\"addItem\" id={styles.navLink}>등록하기</Nav.Link>\r\n                )\r\n              }\r\n              <NavDropdown \r\n                title=\"Store\" \r\n                id={styles.dropdownMenu}\r\n                show={show}\r\n                onMouseEnter={showDropdown} \r\n                onMouseLeave={hideDropdown}\r\n              >\r\n                <NavDropdown.Item href=\"addItem\" id={styles.dropdownMenuItem}>New arrivals</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.2\" id={styles.dropdownMenuItem}>Outwear</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.3\"id={styles.dropdownMenuItem}>Knitwear</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Sweatshirt</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Shirt</NavDropdown.Item>\r\n                <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>T-shirt</NavDropdown.Item>\r\n              </NavDropdown>\r\n              <Nav.Link href=\"help\" id={styles.navLink}>help</Nav.Link>\r\n              <Nav.Link href=\"register\" id={styles.navLink}>cart</Nav.Link>\r\n              {\r\n                currentUser ? (\r\n                  <Nav.Link id={styles.navLink} onClick={logOut}>LogOut</Nav.Link>\r\n                ) : (\r\n                  <Nav.Link id={styles.navLink} onClick={login}>login</Nav.Link>\r\n                )\r\n              }\r\n              \r\n            </Nav>\r\n          </Navbar.Collapse>\r\n          </Container>\r\n      </Navbar>\r\n  )\r\n}\r\n\r\nexport default Header\r\n\r\n// export default class Header extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n//     this.state = {\r\n//       show: false,\r\n//       currentUser: '',\r\n//       showAdminBoard: false,\r\n//     }\r\n//   }\r\n\r\n//   componentDidMount() {\r\n//     const user = AuthService.getCurrentUser();\r\n//     if(user) {\r\n//       this.setState({ \r\n//         currentUser: user,\r\n//         showAdminBoard: user.roles.includes(\"ROLE_ADMIN\"),\r\n//        })\r\n//     }\r\n//   }\r\n\r\n//   showDropdown = () => {\r\n//     this.setState({ show: true})\r\n//   }\r\n//   hideDropdown = () => {\r\n//     this.setState({ show: false})\r\n//   }\r\n//   logOut = () => {\r\n//     AuthService.logout();\r\n//     this.setState({\r\n//       showAdminBoard: false,\r\n//       currentUser: undefined,\r\n//     });\r\n//     Router.push(\"/\")\r\n//   }\r\n\r\n//   login = () => {\r\n//     Router.push(\"login\")\r\n//   }\r\n\r\n//   render() {\r\n//     const { show,currentUser, showAdminBoard } = this.state;\r\n//     return (\r\n//      <Navbar  expand=\"lg\"  >\r\n//         <Container className={styles.headerLayout}>\r\n//           <Navbar.Brand href=\"/\" className={styles.headerColor}>COOR</Navbar.Brand>\r\n//           <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n//           <Navbar.Collapse id=\"basic-navbar-nav\" >\r\n//             <Nav className=\"ms-auto\" >\r\n//               {\r\n//                 showAdminBoard && (\r\n//                   <Nav.Link href=\"addCloth\" id={styles.navLink}>등록하기</Nav.Link>\r\n//                 )\r\n//               }\r\n//               <NavDropdown \r\n//                 title=\"Store\" \r\n//                 id={styles.dropdownMenu}\r\n//                 show={show}\r\n//                 onMouseEnter={this.showDropdown} \r\n//                 onMouseLeave={this.hideDropdown}\r\n//               >\r\n//                 <NavDropdown.Item href=\"allCloth\" id={styles.dropdownMenuItem}>New arrivals</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.2\" id={styles.dropdownMenuItem}>Outwear</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.3\"id={styles.dropdownMenuItem}>Knitwear</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Sweatshirt</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>Shirt</NavDropdown.Item>\r\n//                 <NavDropdown.Item href=\"#action/3.4\" id={styles.dropdownMenuItem}>T-shirt</NavDropdown.Item>\r\n//               </NavDropdown>\r\n//               <Nav.Link href=\"help\" id={styles.navLink}>help</Nav.Link>\r\n//               <Nav.Link href=\"register\" id={styles.navLink}>cart</Nav.Link>\r\n//               {\r\n//                 currentUser ? (\r\n//                   <Nav.Link id={styles.navLink} onClick={this.logOut}>LogOut</Nav.Link>\r\n//                 ) : (\r\n//                   <Nav.Link id={styles.navLink} onClick={this.login}>login</Nav.Link>\r\n//                 )\r\n//               }\r\n              \r\n//             </Nav>\r\n//           </Navbar.Collapse>\r\n//           </Container>\r\n//       </Navbar>\r\n//     )\r\n//   }\r\n// }\r\n"],"names":["React","useState","useCallback","useEffect","Container","Navbar","Nav","NavDropdown","styles","AuthService","Router","useDispatch","useSelector","LOG_OUT_REQUEST","Header","dispatch","show","setShow","admin","setAdmin","currentUser","setCurrentUser","getCurrentUser","roles","showDropdown","hideDropdown","logOut","logout","type","push","login","expand","className","headerLayout","Brand","href","headerColor","Toggle","aria-controls","Collapse","id","Link","navLink","title","dropdownMenu","onMouseEnter","onMouseLeave","Item","dropdownMenuItem","onClick"],"sourceRoot":""}