{"version":3,"file":"../pages/register.js","mappings":"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","sources":["webpack://aws-next-front/./src/hooks/useInput.js","webpack://aws-next-front/external commonjs \"validator\"","webpack://aws-next-front/./src/pages/register.js","webpack://aws-next-front/external commonjs \"axios\"","webpack://aws-next-front/external commonjs \"immer\"","webpack://aws-next-front/external commonjs \"next/router\"","webpack://aws-next-front/external commonjs \"react\"","webpack://aws-next-front/external commonjs \"react-bootstrap\"","webpack://aws-next-front/external commonjs \"react-redux\"","webpack://aws-next-front/external commonjs \"react-validation/build/button\"","webpack://aws-next-front/external commonjs \"react-validation/build/form\"","webpack://aws-next-front/external commonjs \"react-validation/build/input\"","webpack://aws-next-front/external commonjs \"react/jsx-runtime\""],"sourcesContent":["import {useState, useCallback} from 'react';\r\n\r\nexport default (initialValue = null) => {\r\n  const [value ,setValue] = useState(initialValue);\r\n  const handler = useCallback((e) => {\r\n    setValue(e.target.value);\r\n  }, []);\r\n  return [value, handler, setValue];\r\n};","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"validator\");","import React, { useState, useCallback,useRef } from \"react\";\r\nimport Form from \"react-validation/build/form\";\r\nimport Input from \"react-validation/build/input\";\r\nimport CheckButton from \"react-validation/build/button\";\r\nimport { isEmail } from \"validator\";\r\nimport Header from '../components/header'\r\nimport AuthService from \"../../service/user/Auth.service\";\r\nimport styles from '../components/css/User.module.css'\r\nimport Router from \"next/router\";\r\nimport Register_result from \"./register.result\";\r\nimport useInput from \"../hooks/useInput\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { SIGNUP_REQUEST } from \"../reducers/user\";\r\n\r\nconst required = value => {\r\n  if (!value) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        입력해주세요.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vemail = value => {\r\n  if (!isEmail(value)) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        유효하지 않는 이메일입니다.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vusername = value => {\r\n  if (value.length < 3 || value.length > 20) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        아이디는 영문소문자 또는 숫자 4~20자로 입력해 주세요.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nconst vpassword = value => {\r\n  if (value.length < 6 || value.length > 16) {\r\n    return (\r\n      <div className=\"alert alert-danger\" role=\"alert\">\r\n        비밀번호는 영문소문자 또는 숫자 4~16자로 입력해 주세요.\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\n\r\n\r\n\r\n\r\nconst Register = () => {\r\n  const form =useRef(null);\r\n  const checkBtn =useRef(null);\r\n  const dispatch = useDispatch();\r\n\r\n  const [username, onChangeUsername] = useInput('');\r\n  const [email, onChangeEmail] = useInput('');\r\n  const [password, onChangePassword] = useInput('');\r\n  const [passwordCheck, setPasswordCheck] =useState('')\r\n  const [passwordError, setPasswordError] =useState(false)\r\n\r\n  const onChangePasswordCheck = useCallback((e) => {\r\n    setPasswordCheck(e.target.value)\r\n    setPasswordError(e.target.value !== password)\r\n  }, [password])\r\n\r\n\r\n  const handleRegister = useCallback((e) => {\r\n        e.preventDefault();\r\n        if(password !== passwordCheck) {\r\n          return setPasswordError(true)\r\n        }\r\n   \r\n        form.validateAll();\r\n\r\n        if (checkBtn.context._errors.length === 0) {   // 서버보다 우선순위 먼저\r\n          AuthService.register(username,email,password)\r\n          .then(res => {\r\n            dispatch({\r\n              type: SIGNUP_REQUEST,\r\n              data: { username, email }\r\n            });\r\n              Router.push({\r\n                pathname: \"/register.result\",\r\n                query: {username: username, email: email}\r\n              }, \"/register.result\")\r\n    \r\n            },\r\n            error => {\r\n              const resMessage =\r\n                (error.response &&\r\n                  error.response.data &&\r\n                  error.response.data.message) ||\r\n                error.message ||\r\n                error.toString();\r\n    \r\n              alert(resMessage)\r\n            }\r\n          );\r\n        }\r\n      },[username,email,password,passwordCheck]);\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <div className=\"col-md-12\">\r\n        <div className=\"card card-container\" id={styles.login_form_layout}>\r\n        <label className={styles.login_font_title}>Register</label>\r\n        <br />\r\n        <br />\r\n          <Form\r\n            onSubmit={handleRegister}\r\n            ref={c => {\r\n              form = c;\r\n            }}\r\n          >\r\n              <div>\r\n                <div className=\"form-group\">\r\n                <label htmlFor=\"username\" className={styles.login_font_input}>USERNAME</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"username\"\r\n                    value={username}\r\n                    onChange={onChangeUsername}\r\n                    validations={[required, vusername]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                <label htmlFor=\"email\" className={styles.login_font_input}>EAMIL</label>\r\n                  <Input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"email\"\r\n                    value={email}\r\n                    onChange={onChangeEmail}\r\n                    validations={[required, vemail]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"Password\" className={styles.login_font_input}>PASSWORD</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"password\"\r\n                    value={password}\r\n                    onChange={onChangePassword}\r\n                    validations={[required, vpassword]}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-group\">\r\n                  <label htmlFor=\"PasswordCheck\" className={styles.login_font_input}>PASSWORD CHECK</label>\r\n                  <Input\r\n                    type=\"password\"\r\n                    className=\"form-control\"\r\n                    name=\"passwordCheck\"\r\n                    value={passwordCheck}\r\n                    onChange={onChangePasswordCheck}\r\n                    validations={[required]}\r\n                  />\r\n                </div>\r\n                { passwordError && <p style={{'color':'red'}}>비밀번호가 일치하지 않습니다.</p> }\r\n                <br />\r\n                <br />\r\n\r\n                <div className=\"form-group\">\r\n                  <button className=\"btn btn-primary btn-block\">Sign Up</button>\r\n                </div>\r\n              </div>\r\n            <CheckButton\r\n              style={{ display: \"none\" }}\r\n              ref={c => {\r\n                checkBtn = c;\r\n              }}\r\n            />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n      </>\r\n  )\r\n}\r\n\r\nexport default Register;\r\n\r\n","module.exports = require(\"axios\");","module.exports = require(\"immer\");","module.exports = require(\"next/router\");","module.exports = require(\"react\");","module.exports = require(\"react-bootstrap\");","module.exports = require(\"react-redux\");","module.exports = require(\"react-validation/build/button\");","module.exports = require(\"react-validation/build/form\");","module.exports = require(\"react-validation/build/input\");","module.exports = require(\"react/jsx-runtime\");"],"names":["useState","useCallback","initialValue","value","setValue","handler","e","target","React","useRef","Form","Input","CheckButton","isEmail","Header","AuthService","styles","Router","Register_result","useInput","useDispatch","SIGNUP_REQUEST","required","div","className","role","vemail","vusername","length","vpassword","Register","form","checkBtn","dispatch","username","onChangeUsername","email","onChangeEmail","password","onChangePassword","passwordCheck","setPasswordCheck","passwordError","setPasswordError","onChangePasswordCheck","handleRegister","preventDefault","validateAll","context","_errors","register","then","res","type","data","push","pathname","query","error","resMessage","response","message","toString","alert","id","login_form_layout","label","login_font_title","br","onSubmit","ref","c","htmlFor","login_font_input","name","onChange","validations","p","style","button","display"],"sourceRoot":""}